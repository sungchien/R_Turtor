<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 R語言的基本概念與語法 | R語言課程</title>
  <meta name="description" content="本課程介紹R語言的基本語法以及一些簡單的應用。" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 R語言的基本概念與語法 | R語言課程" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="本課程介紹R語言的基本語法以及一些簡單的應用。" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 R語言的基本概念與語法 | R語言課程" />
  
  <meta name="twitter:description" content="本課程介紹R語言的基本語法以及一些簡單的應用。" />
  

<meta name="author" content="林頌堅" />


<meta name="date" content="2019-07-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html">
<link rel="next" href="literature.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> R語言的基本概念與語法</a><ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#section-1"><i class="fa fa-check"></i>課程簡介</a></li>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#r"><i class="fa fa-check"></i><b>1.1</b> R語言的基本概念</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#r-1"><i class="fa fa-check"></i><b>1.2</b> R語言的運算</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#r-2"><i class="fa fa-check"></i><b>1.3</b> R語言的基本資料型態</a><ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#section-2"><i class="fa fa-check"></i><b>1.3.1</b> 數值資料型態</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#section-3"><i class="fa fa-check"></i><b>1.3.2</b> 文字資料型態</a></li>
<li class="chapter" data-level="1.3.3" data-path="intro.html"><a href="intro.html#section-4"><i class="fa fa-check"></i><b>1.3.3</b> 邏輯資料型態</a></li>
<li class="chapter" data-level="1.3.4" data-path="intro.html"><a href="intro.html#factor"><i class="fa fa-check"></i><b>1.3.4</b> factor資料型態</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#r-3"><i class="fa fa-check"></i><b>1.4</b> R語言的特殊資料型態</a><ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#vector"><i class="fa fa-check"></i><b>1.4.1</b> vector</a></li>
<li class="chapter" data-level="1.4.2" data-path="intro.html"><a href="intro.html#matrix"><i class="fa fa-check"></i><b>1.4.2</b> matrix</a></li>
<li class="chapter" data-level="1.4.3" data-path="intro.html"><a href="intro.html#array"><i class="fa fa-check"></i><b>1.4.3</b> array</a></li>
<li class="chapter" data-level="1.4.4" data-path="intro.html"><a href="intro.html#list"><i class="fa fa-check"></i><b>1.4.4</b> list</a></li>
<li class="chapter" data-level="1.4.5" data-path="intro.html"><a href="intro.html#data-frame"><i class="fa fa-check"></i><b>1.4.5</b> data frame</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#section-5"><i class="fa fa-check"></i>小結</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="literature.html"><a href="literature.html"><i class="fa fa-check"></i><b>2</b> Literature</a></li>
<li class="chapter" data-level="3" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>3</b> Methods</a></li>
<li class="chapter" data-level="4" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>4</b> Applications</a><ul>
<li class="chapter" data-level="4.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>4.1</b> Example one</a></li>
<li class="chapter" data-level="4.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>4.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>5</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R語言課程</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> R語言的基本概念與語法</h1>
<div id="section-1" class="section level2 unnumbered">
<h2>課程簡介</h2>
<ul>
<li>本次課程為R語言的基礎介紹</li>
<li>主要目的在熟悉R語言的環境與基本用法</li>
<li>重點在R語言的基本與特殊的資料型態</li>
</ul>
</div>
<div id="r" class="section level2">
<h2><span class="header-section-number">1.1</span> R語言的基本概念</h2>
<p><strong>R語言簡介</strong></p>
<ul>
<li>R語言是一種自由的軟體程式語言</li>
<li>可用於統計分析、資料探勘、資料視覺化
<ul>
<li>內建多種統計及資料分析功能</li>
<li>可透過套件(package)增強功能</li>
</ul></li>
</ul>
<p><strong>R的資源</strong></p>
<ul>
<li>CRAN：下載R的執行檔、原始碼和說明文件，也收錄了各種套件</li>
<li>請連線到<a href="https://cran.r-project.org/">CRAN</a></li>
</ul>
<p><strong>R的編寫介面</strong></p>
<ul>
<li>R本身的介面不容易用於開發程式</li>
<li>RStudio：輔助R語言程式開發的IDE應用軟體</li>
<li>請連線到<a href="https://www.rstudio.com/">RStudio</a></li>
</ul>
<p><strong>RStudio介面</strong></p>
<ul>
<li>請開啟RStudio</li>
</ul>
<p><strong>Rstudio的儀表板</strong></p>
<ul>
<li>Console：執行敘述，呈現敘述執行的結果</li>
<li>Source：開發程式開發</li>
<li>Environment：目前使用的變數與自行定義的函數</li>
<li>Help：查詢函數</li>
<li>Plots：繪圖</li>
</ul>
</div>
<div id="r-1" class="section level2">
<h2><span class="header-section-number">1.2</span> R語言的運算</h2>
<p>R語言的<strong>運算式</strong>由常數(constants)、變數(variables)、運算子(operators)和函數(functions)等構成，運算式的計算會得到一個結果。</p>
<ul>
<li>如果運算式相當簡單的話，可以在RStudio的Console上，直接執行運算。例如：請在RStudio的Console處輸入以下運算式：</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span><span class="op">*</span><span class="dv">5</span></code></pre>
<pre><code>## [1] 15</code></pre>
<ul>
<li>如果運算式較複雜或是有需要重複運用，則建議寫成Script，並利用Script右上方的<strong>Run</strong>進行運算。例如：請在RStudio的Script處輸入以下運算式，並且點選Script右上方的Run：</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span><span class="op">*</span><span class="dv">5</span></code></pre>
<pre><code>## [1] 15</code></pre>
<p><strong>指定敘述</strong></p>
<p>可將運算式的結果儲存在某一個變數內，稱為指定敘述。例如：請在Console處輸入下面的指定敘述</p>
<pre class="sourceCode r"><code class="sourceCode r">var &lt;-<span class="st"> </span><span class="dv">3</span><span class="op">*</span><span class="dv">5</span></code></pre>
<p>上面的指定敘述裡， &lt;-的意思是將右邊運算式(3*5)的結果指定給左邊的變數(var)儲存。執行完後，可以在右上的Environment，查看變數var儲存的數值</p>
<p><strong>註解</strong></p>
<p>在R語言裡，<strong>#</strong>後的文字被忽略。例如：在Console處輸入下面的敘述</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#var &lt;- 4*6</span></code></pre>
<p>在右上的Environment，查看變數var儲存的數值。此時可以發現新的敘述並沒有覆蓋舊的指定敘述。</p>
<p><strong>查詢與設定工作目錄</strong></p>
<p>通常開始一個任務時，會將相關的程式和資料儲存在同一個資料夾，稱為<strong>工作目錄</strong>。</p>
<ul>
<li>在Console上，設定工作目錄</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setwd</span>(<span class="st">&quot;C:/工作路徑/rCourse/任務X&quot;</span>)</code></pre>
<ul>
<li>查看目前的工作目錄</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()</code></pre>
<p>事實上，setwd和getwd都是<strong>函數(function)</strong>。在R語言裡，函數的使用相當重要。</p>
<p><strong>Help</strong></p>
<p>在Console上，查看某一個函數的用法</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">help</span>(setwd)</code></pre>
<p>另一種常用的寫法</p>
<pre class="sourceCode r"><code class="sourceCode r">?setwd</code></pre>
</div>
<div id="r-2" class="section level2">
<h2><span class="header-section-number">1.3</span> R語言的基本資料型態</h2>
<p>R語言的基本資料型態包含</p>
<ul>
<li>integer</li>
<li>numeric</li>
<li>character</li>
<li>logic</li>
<li>factor</li>
</ul>
<div id="section-2" class="section level3">
<h3><span class="header-section-number">1.3.1</span> 數值資料型態</h3>
<p>integer 與 numeric屬於數值資料型態。數值資料的運算有</p>
<ul>
<li><code>+</code> 加</li>
<li><code>-</code> 減</li>
<li><code>*</code> 乘</li>
<li><code>/</code> 除</li>
<li><code>^</code> 次方</li>
<li><code>%%</code> 整數除法的餘數</li>
<li><code>%/%</code> 整數除法的商</li>
</ul>
<p><strong>練習</strong></p>
<p>請在Console下輸入下面的敘述，分別查看c, d, e</p>
<pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">5</span>
b &lt;-<span class="st"> </span><span class="dv">3</span>
c &lt;-<span class="st"> </span><span class="dv">5</span><span class="op">/</span><span class="dv">3</span>
d &lt;-<span class="st"> </span><span class="dv">5</span><span class="op">%/%</span><span class="dv">3</span>
e &lt;-<span class="st"> </span><span class="dv">5</span><span class="op">%%</span><span class="dv">3</span></code></pre>
<p>數值資料常見的函數有</p>
<ul>
<li>abs() 絕對值</li>
<li>sqrt() 平方根</li>
<li>round() 四捨五入</li>
</ul>
<p><strong>練習</strong></p>
<p>請在Console下輸入下面的敘述，分別查看f, g</p>
<pre class="sourceCode r"><code class="sourceCode r">f &lt;-<span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">2</span><span class="op">^</span><span class="dv">4</span>)
g &lt;-<span class="st"> </span><span class="kw">round</span>(c)</code></pre>
</div>
<div id="section-3" class="section level3">
<h3><span class="header-section-number">1.3.2</span> 文字資料型態</h3>
<p>character為文字資料型態。在Console上輸入下面指定敘述，並且查看str1和str2</p>
<pre class="sourceCode r"><code class="sourceCode r">str1 &lt;-<span class="st"> &quot;R&quot;</span>
str2 &lt;-<span class="st"> &quot;Langague&quot;</span></code></pre>
<p>常用的character函數有</p>
<ul>
<li>paste() 字串連接</li>
<li>substr() 取出字串的一部份</li>
</ul>
<p><strong>練習</strong></p>
<p>在Console上輸入下面敘述，並且查看運算結果</p>
<pre class="sourceCode r"><code class="sourceCode r">str3 &lt;-<span class="st"> </span><span class="kw">paste</span>(str1, str2)
str4 &lt;-<span class="st"> </span><span class="kw">substr</span>(str1, <span class="dv">1</span>, <span class="dv">4</span>)</code></pre>
</div>
<div id="section-4" class="section level3">
<h3><span class="header-section-number">1.3.3</span> 邏輯資料型態</h3>
<p>邏輯資料型態的值只有兩種：TRUE(真)與FALSE(偽)。邏輯運算有</p>
<ul>
<li><code>|</code> 或</li>
<li><code>&amp;</code> 且</li>
<li><code>!</code> 否</li>
</ul>
<p><strong>練習</strong></p>
<p>在Console上輸入下面敘述，並且查看運算結果</p>
<pre class="sourceCode r"><code class="sourceCode r">log1 &lt;-<span class="st"> </span><span class="dv">3</span><span class="op">&gt;</span><span class="dv">5</span>
log2 &lt;-<span class="st"> &quot;R Language&quot;</span> <span class="op">==</span><span class="st"> </span><span class="kw">paste</span>(str1, str2)
log3 &lt;-<span class="st"> </span>log1 <span class="op">|</span><span class="st"> </span>log2
log4 &lt;-<span class="st"> </span>log1 <span class="op">&amp;</span><span class="st"> </span>log2</code></pre>
</div>
<div id="factor" class="section level3">
<h3><span class="header-section-number">1.3.4</span> factor資料型態</h3>
<p>factor資料型態可用於表示名目尺度的資料。在Console上輸入下面敘述，並且查看運算結果</p>
<pre class="sourceCode r"><code class="sourceCode r">gender_data &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>)
gender &lt;-<span class="st"> </span><span class="kw">factor</span>(gender_data, <span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;女&quot;</span>, <span class="st">&quot;男&quot;</span>))</code></pre>
<p>上面的例子中，依照數值資料的順序，1代表女生，2代表男生。</p>
<p>設定2代表女生，1代表男生。</p>
<pre class="sourceCode r"><code class="sourceCode r">gender &lt;-<span class="st"> </span><span class="kw">factor</span>(gender_data, <span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;女&quot;</span>, <span class="st">&quot;男&quot;</span>), <span class="dt">levels=</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>))</code></pre>
</div>
</div>
<div id="r-3" class="section level2">
<h2><span class="header-section-number">1.4</span> R語言的特殊資料型態</h2>
<p>R語言中常會使用下列的特殊資料型態</p>
<ul>
<li>vector</li>
<li>matrix and array</li>
<li>list</li>
<li>data frame</li>
</ul>
<div id="vector" class="section level3">
<h3><span class="header-section-number">1.4.1</span> vector</h3>
<p>vector是一序列相同型態的資料。在Console上輸入下面敘述，並且查看運算結果</p>
<pre class="sourceCode r"><code class="sourceCode r">intD &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">3</span>)
strD &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ab&quot;</span>, <span class="st">&quot;df&quot;</span>, <span class="st">&quot;4d&quot;</span>, <span class="st">&quot;32&quot;</span>, <span class="st">&quot;bc&quot;</span>)</code></pre>
<p>在右側的Environment上，觀察vector可以發現：intD為num[1:8]，而strD為chr[1:5]。num, chr分別表示numeric和character資料型態；[1:8], [1:5]則是vector的範圍。</p>
<p><strong>取出vector中的元素</strong></p>
<p>在Console上輸入下面敘述，並且查看運算結果</p>
<pre class="sourceCode r"><code class="sourceCode r">intD[<span class="dv">4</span>]</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">intD[<span class="dv">2</span><span class="op">:</span><span class="dv">5</span>]</code></pre>
<pre><code>## [1] 4 6 2 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">intD[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>)]</code></pre>
<pre><code>## [1] 1 6 5</code></pre>
<ul>
<li><code>intD[4]</code>表示intD的第4個元素</li>
<li><code>intD[2:5]</code>表示intD的第2到第5個元素</li>
<li><code>intD[c(1,3,5)]</code>表示intD的第1、3、5個元素</li>
</ul>
<p><strong>vector的運算</strong></p>
<p>當兩個vector進行運算時，較短的vector會自動延長，以便兩個vector上面的元素一一對應</p>
<pre class="sourceCode r"><code class="sourceCode r">intD <span class="op">*</span><span class="st"> </span><span class="dv">5</span></code></pre>
<pre><code>## [1]  5 20 30 10 25 35 40 15</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">intD <span class="op">+</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>)</code></pre>
<pre><code>## [1]  2  6  9  6 10 13 15 11</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">intD <span class="op">+</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</code></pre>
<pre><code>## [1]  2  6  9  6  6  9 11  7</code></pre>
<p>函數<code>c()</code>可以合併vectors</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(intD, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</code></pre>
<pre><code>##  [1] 1 4 6 2 5 7 8 3 1 2 3 4</code></pre>
<p>函數<code>length()</code>可以計算vector長度，也就是vector上的元素個數</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(intD)</code></pre>
<pre><code>## [1] 8</code></pre>
<p>函數<code>sum()</code>可以計算vector上的元素總和</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(intD)</code></pre>
<pre><code>## [1] 36</code></pre>
<p>函數<code>sort()</code>可以對vector上的元素排序</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(intD)</code></pre>
<pre><code>## [1] 1 2 3 4 5 6 7 8</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(intD, <span class="dt">decreasing=</span><span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] 8 7 6 5 4 3 2 1</code></pre>
<p><code>sort()</code>中預設的decreasing為FALSE，將vector裡的元素<strong>由小到大</strong>排序。如果將decreasing設為TRUE，則會將vector裡的元素<strong>由大到小</strong>排列。</p>
<p>函數<code>order()</code>可以找出vector中的元素在由小到大順序中的位置。
* 在Console上輸入下面敘述，並且查看運算結果</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">order</span>(intD)</code></pre>
<pre><code>## [1] 1 4 8 2 5 3 6 7</code></pre>
<p>所以另一種將intD的元素由小到大排序的方法是</p>
<pre class="sourceCode r"><code class="sourceCode r">intD[<span class="kw">order</span>(intD)]</code></pre>
<pre><code>## [1] 1 2 3 4 5 6 7 8</code></pre>
<p>如果要找出vector中的元素在由大到小順序中的位置，則可以在函數<code>order()</code>中，將decreasing設為TRUE。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">order</span>(intD, <span class="dt">decreasing=</span><span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] 7 6 3 5 2 8 4 1</code></pre>
<p>函數<code>seq()</code>可以產生等差序列的vector。<code>seq()</code>包括from, to, by等參數，意思是從開始的數值from，在不超過結尾數值by的情形下，每次增加一個數值by</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">8</span>)</code></pre>
<pre><code>## [1] 1 2 3 4 5 6 7 8</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">2</span>)</code></pre>
<pre><code>## [1] 1 3 5 7</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="fl">1.5</span>)</code></pre>
<pre><code>## [1] 1.0 2.5 4.0 5.5 7.0</code></pre>
<ul>
<li>seq(1, 8): from=1, to=8</li>
<li>seq(1, 8, 2): from=1, to=8, by=2</li>
<li>seq(1, 8, 1.5): from=1, to=8, by=1.5</li>
</ul>
<p>如果差為1時，可以用冒號運算式<code>:</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span><span class="op">:</span><span class="dv">8</span></code></pre>
<pre><code>## [1] 1 2 3 4 5 6 7 8</code></pre>
<p><strong>練習</strong>
產生以下的數列</p>
<ul>
<li>1到10間所有的整數</li>
<li>1到10間所有的奇數</li>
<li>1到10間所有的偶數</li>
<li>1到10間所有3的倍數</li>
<li>2的1到10乘方</li>
</ul>
<p>函數<code>rep()</code>可以產生重複序列的vector。<code>rep()</code>包括x和times兩個參數，意思是將x重複times次。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>)</code></pre>
<pre><code>## [1] 1 1 1 1 1 1 1 1 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">4</span>)</code></pre>
<pre><code>## [1] 1 2 1 2 1 2 1 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">82</span>, <span class="dv">53</span>), <span class="dv">3</span>)</code></pre>
<pre><code>## [1]  4 82 53  4 82 53  4 82 53</code></pre>
</div>
<div id="matrix" class="section level3">
<h3><span class="header-section-number">1.4.2</span> matrix</h3>
<p>matrix可以視為是2度的vector</p>
<pre class="sourceCode r"><code class="sourceCode r">intMatrix &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">nrow=</span><span class="dv">4</span>)</code></pre>
<p>函數<code>matrix()</code>可以產生matrix資料型態。<code>matrix()</code>的參數有data, nrow, ncol和byrow，意思是將data上的資料表示成nrow列或ncol行的matrix。</p>
<p>在matrix裡，橫列稱為row，直行稱為col。</p>
<p>上面的matrix是以column為主排列，如果要以row為主來排列matrix的話，可以寫成</p>
<pre class="sourceCode r"><code class="sourceCode r">intMatrix &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">nrow=</span><span class="dv">4</span>, <span class="dt">byrow=</span><span class="ot">TRUE</span>)</code></pre>
<p>也就是matrix(data, nrow, ncol, byrow)：將data上的資料表示成nrow列或ncol行的matrix
- byrow=FALSE(預設值)，直行優先排列
- byrow=TRUE，橫列優先排列</p>
<p>如果要取用matrix上的元素</p>
<pre class="sourceCode r"><code class="sourceCode r">intMatrix[<span class="dv">1</span>,]</code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">intMatrix[,<span class="dv">2</span>]</code></pre>
<pre><code>## [1]  2  5  8 11</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">intMatrix[<span class="dv">3</span>,<span class="dv">1</span>]</code></pre>
<pre><code>## [1] 7</code></pre>
<p>matrix上的運算</p>
<ul>
<li>函數<code>rowSums()</code>可以計算matrix的每一橫列上的元素總和</li>
<li>函數<code>colSums()</code>可以計算matrix的每一直行上的元素總和</li>
<li>函數<code>sum()</code>可以計算x上的元素總和</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rowSums</span>(intMatrix)</code></pre>
<pre><code>## [1]  6 15 24 33</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colSums</span>(intMatrix)</code></pre>
<pre><code>## [1] 22 26 30</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(intMatrix)</code></pre>
<pre><code>## [1] 78</code></pre>
<p>函數<code>t()</code>可以轉置matrix，原先的行做為列，列做為行</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">t</span>(intMatrix)</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    4    7   10
## [2,]    2    5    8   11
## [3,]    3    6    9   12</code></pre>
<p>函數<code>diag(x)</code>可以計算matrix的對角線</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">diag</span>(intMatrix)</code></pre>
<pre><code>## [1] 1 5 9</code></pre>
</div>
<div id="array" class="section level3">
<h3><span class="header-section-number">1.4.3</span> array</h3>
<p>array是一個多維度的vector。</p>
<p>函數<code>array()</code>產生一個array，<code>array()</code>包括x和dim兩個參數，<code>array(x, dim)</code>將x表示成array，以dim的資料為array的維度，通常來說，dim為一個vector，dim的長度表示array的維度數目，例如array為三維，dim上便有3個integer。</p>
<pre class="sourceCode r"><code class="sourceCode r">vec &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>), <span class="dv">10</span>)
intArray &lt;-<span class="st"> </span><span class="kw">array</span>(vec, <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">2</span>))</code></pre>
<p>取出array上的資料</p>
<pre class="sourceCode r"><code class="sourceCode r">intArray[<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>]</code></pre>
<pre><code>## [1] 3</code></pre>
</div>
<div id="list" class="section level3">
<h3><span class="header-section-number">1.4.4</span> list</h3>
<p>list可以包含不同資料型態的一序列資料</p>
<pre class="sourceCode r"><code class="sourceCode r">spiderman &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">id =</span> <span class="st">&quot;012&quot;</span>,
                  <span class="dt">name =</span> <span class="st">&quot;Peter&quot;</span>,
                  <span class="dt">team =</span> <span class="st">&quot;Avengers&quot;</span>,
                  <span class="dt">height =</span> <span class="dv">178</span>,
                  <span class="dt">weight =</span> <span class="dv">76</span>)</code></pre>
<p>取得list上的資料有幾種方法</p>
<ul>
<li>根據資料在list上的位置</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">spiderman[[<span class="dv">3</span>]]</code></pre>
<pre><code>## [1] &quot;Avengers&quot;</code></pre>
<ul>
<li>根據資料在list上的名稱</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">spiderman[[<span class="st">&quot;team&quot;</span>]]</code></pre>
<pre><code>## [1] &quot;Avengers&quot;</code></pre>
<ul>
<li>另一種根據資料在list上的名稱的方法</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">spiderman<span class="op">$</span>team</code></pre>
<pre><code>## [1] &quot;Avengers&quot;</code></pre>
</div>
<div id="data-frame" class="section level3">
<h3><span class="header-section-number">1.4.5</span> data frame</h3>
<p>data frame是可以包含不同資料型態的資料集合</p>
<pre class="sourceCode r"><code class="sourceCode r">id &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;001&quot;</span>, <span class="st">&quot;002&quot;</span>, <span class="st">&quot;003&quot;</span>, <span class="st">&quot;004&quot;</span>, <span class="st">&quot;005&quot;</span>)
name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;superman&quot;</span>, <span class="st">&quot;batman&quot;</span>, <span class="st">&quot;spiderman&quot;</span>, <span class="st">&quot;wolverine&quot;</span>, <span class="st">&quot;wonderwoman&quot;</span>)
height &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">190</span>, <span class="dv">188</span>, <span class="dv">178</span>, <span class="dv">150</span>, <span class="dv">183</span>)
weight &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">102</span>, <span class="dv">95</span>, <span class="dv">76</span>, <span class="dv">88</span>, <span class="dv">59</span>)
gender &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>)
heroes &lt;-<span class="st"> </span><span class="kw">data.frame</span>(id, name, height, weight, gender)</code></pre>
<p>data.frame為2個維度的資料型態。橫列為row，在R語言裡稱為Observation；直行為column，稱為Variable</p>
<p>data frame上的Variable</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colnames</span>(heroes)</code></pre>
<pre><code>## [1] &quot;id&quot;     &quot;name&quot;   &quot;height&quot; &quot;weight&quot; &quot;gender&quot;</code></pre>
<p>data frame的資料數量</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(heroes)</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(heroes)</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(heroes)</code></pre>
<pre><code>## [1] 5 5</code></pre>
<p>data frame上各欄位的資料型態</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(heroes)</code></pre>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  5 variables:
##  $ id    : Factor w/ 5 levels &quot;001&quot;,&quot;002&quot;,&quot;003&quot;,..: 1 2 3 4 5
##  $ name  : Factor w/ 5 levels &quot;batman&quot;,&quot;spiderman&quot;,..: 3 1 2 4 5
##  $ height: num  190 188 178 150 183
##  $ weight: num  102 95 76 88 59
##  $ gender: Factor w/ 2 levels &quot;Female&quot;,&quot;Male&quot;: 2 2 2 2 1</code></pre>
<p>比較id, name及gender等欄位的資料型態</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(id)</code></pre>
<pre><code>##  chr [1:5] &quot;001&quot; &quot;002&quot; &quot;003&quot; &quot;004&quot; &quot;005&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(name)</code></pre>
<pre><code>##  chr [1:5] &quot;superman&quot; &quot;batman&quot; &quot;spiderman&quot; &quot;wolverine&quot; &quot;wonderwoman&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(gender)</code></pre>
<pre><code>##  chr [1:5] &quot;Male&quot; &quot;Male&quot; &quot;Male&quot; &quot;Male&quot; &quot;Female&quot;</code></pre>
<p>從上面，可以發現產生data frame的過程中，字串(character)自動被轉換成factor</p>
<p>如果要在data frame中保持字串資料類型</p>
<pre class="sourceCode r"><code class="sourceCode r">heroes &lt;-<span class="st"> </span><span class="kw">data.frame</span>(id, name, height, weight, gender,
                     <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
<span class="kw">str</span>(heroes)</code></pre>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  5 variables:
##  $ id    : chr  &quot;001&quot; &quot;002&quot; &quot;003&quot; &quot;004&quot; ...
##  $ name  : chr  &quot;superman&quot; &quot;batman&quot; &quot;spiderman&quot; &quot;wolverine&quot; ...
##  $ height: num  190 188 178 150 183
##  $ weight: num  102 95 76 88 59
##  $ gender: chr  &quot;Male&quot; &quot;Male&quot; &quot;Male&quot; &quot;Male&quot; ...</code></pre>
<ul>
<li>stringsAsFacotrs=FALSE(設定在data frame中保持字串資料類型)</li>
</ul>
<p>如同取得list上的資料，取得data frame上的資料也可以分為根據位置和根據名稱。</p>
<ul>
<li>根據data frame上的位置(第幾列、第幾行)</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">heroes[<span class="dv">2</span>, ]</code></pre>
<pre><code>##    id   name height weight gender
## 2 002 batman    188     95   Male</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">heroes[,<span class="dv">2</span>]</code></pre>
<pre><code>## [1] &quot;superman&quot;    &quot;batman&quot;      &quot;spiderman&quot;   &quot;wolverine&quot;   &quot;wonderwoman&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">heroes[<span class="dv">2</span>, <span class="dv">2</span>]</code></pre>
<pre><code>## [1] &quot;batman&quot;</code></pre>
<ul>
<li>根據data frame上的名稱</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">heroes[[<span class="st">&quot;name&quot;</span>]]</code></pre>
<pre><code>## [1] &quot;superman&quot;    &quot;batman&quot;      &quot;spiderman&quot;   &quot;wolverine&quot;   &quot;wonderwoman&quot;</code></pre>
<p>或是</p>
<pre class="sourceCode r"><code class="sourceCode r">heroes<span class="op">$</span>name</code></pre>
<pre><code>## [1] &quot;superman&quot;    &quot;batman&quot;      &quot;spiderman&quot;   &quot;wolverine&quot;   &quot;wonderwoman&quot;</code></pre>
<p>另外還可以根據索引(data frame上符合索引條件的紀錄)，取得data frame上的紀錄資料</p>
<pre class="sourceCode r"><code class="sourceCode r">heroes[heroes<span class="op">$</span>name<span class="op">==</span><span class="st">&quot;spiderman&quot;</span>,]</code></pre>
<pre><code>##    id      name height weight gender
## 3 003 spiderman    178     76   Male</code></pre>
<p><strong>練習</strong>
- 取得性別為女性的超級英雄
- 取得身高高於180cm的超級英雄</p>
<p>根據索引(data frame上符合索引條件的紀錄)</p>
<pre class="sourceCode r"><code class="sourceCode r">heroes[<span class="kw">which.max</span>(heroes<span class="op">$</span>height),]</code></pre>
<pre><code>##    id     name height weight gender
## 1 001 superman    190    102   Male</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which.max</span>(heroes<span class="op">$</span>height)</code></pre>
<pre><code>## [1] 1</code></pre>
<p>which.max(x)：傳回x中最大值的位置</p>
<p><strong>練習</strong></p>
<ul>
<li>取得體重最重的超級英雄</li>
<li>取得體重最輕的超級英雄</li>
</ul>
</div>
</div>
<div id="section-5" class="section level2 unnumbered">
<h2>小結</h2>
<ul>
<li><p>R語言中很重要的是使用函數來幫忙完成工作。在本次課程中，列舉出許多常用的函數，但還有更多的函數。面對這些函數，死背下來不是最好的方法！需要學習如何查找到適合的函數是學習R語言的訣竅。</p></li>
<li><p>在R語言的程式設計當中，vector與data frame是相當重要的資料型態，許多分析與計算都在vector或data frame上完成。下一節將主要著重在data frame為主的資料讀取與儲存。</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="literature.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/01-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
